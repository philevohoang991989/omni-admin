{"ast":null,"code":"import _objectSpread from \"/Users/admin/Downloads/omni-admin-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/admin/Downloads/omni-admin-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/admin/Downloads/omni-admin-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/admin/Downloads/omni-admin-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/Downloads/omni-admin-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/admin/Downloads/omni-admin-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/admin/Downloads/omni-admin-master/src/Views/Promotions/List.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport PromotionsService from '../../Services/PromotionsService';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Paper, Table, TableRow, TableCell, TableBody, Typography, Button, CardMedia, withStyles } from \"@material-ui/core\"; // import AddIcon from '@material-ui/icons/Add';\n// import green from '@material-ui/core/colors/green';\n// import { Link, Redirect } from \"react-router-dom\";\n// import OcbLoading from \"../Core/OcbLoading\"\n// import OcbAlert from \"../Core/OcbAlert\";\n\nvar styles = function styles() {\n  return {\n    tableContainer: {\n      width: \"1000px\",\n      overflowX: \"none\",\n      boxShadow: \"none\"\n    },\n    table: {\n      minWidth: 700\n    },\n    image: {\n      paddingRight: 0,\n      maxWidth: \"100%\",\n      maxHeight: \"100%\",\n      paddingTop: \"100px\"\n    },\n    imageStyle: {\n      width: \"200px\",\n      \"overflow-x\": \"auto\"\n    },\n    bold: {\n      fontWeight: \"bold\"\n    }\n  };\n};\n\nvar Promotions =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Promotions, _React$Component);\n\n  function Promotions(props) {\n    var _this;\n\n    _classCallCheck(this, Promotions);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Promotions).call(this, props));\n\n    _this.delePromo = function (event) {\n      var arr = [];\n      var data = _this.state.data;\n      console.log('>>> submit', _this.strrselect);\n\n      for (var i = 0; i < data.length; i++) {\n        if (data[i] && _this.strrselect.indexOf(data[i].id) >= 0) {\n          arr.push(data[i].id);\n        }\n      }\n\n      console.log('>>> submit', arr);\n      var service = new PromotionsService(); // console.log(this);\n\n      console.log(_this.state);\n      var lstIdNoti = {\n        lstIdNoti: arr\n      };\n      service.deletePromotion(lstIdNoti).then(function (resp) {\n        console.log('SUCCESS', resp);\n\n        _this.redirect('/promotions');\n      }).catch(function (error) {\n        console.error(error);\n      }).then(function () {});\n    };\n\n    _this.state = {\n      data: [],\n      msg: \"\",\n      isError: false\n    };\n    _this.strrselect = [];\n    return _this;\n  }\n\n  _createClass(Promotions, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var service = new PromotionsService();\n      service.getListPromotions().then(function (res) {\n        if (res.data && res.success === true && res.data) {\n          _this2.setState({\n            data: res.data,\n            isError: false\n          });\n        } else {\n          _this2.setState({\n            msg: \"Có lỗi xảy ra!\",\n            isError: true\n          });\n        }\n      }).catch(function (error) {\n        _this2.setState({\n          msg: error.response.errorCode,\n          isError: true\n        });\n      });\n    }\n  }, {\n    key: \"createMarkup\",\n    value: function createMarkup(data) {\n      return {\n        __html: data\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var classes = this.props.classes;\n      var data = this.state.data;\n\n      if (this.state.isError) {\n        return React.createElement(Typography, {\n          color: \"error\",\n          variant: \"caption\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, this.state.msg);\n      }\n\n      return React.createElement(Paper, {\n        className: classes.tableContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Table, {\n        width: \"2000px\",\n        style: {\n          width: \"2000px\"\n        },\n        size: \"medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        style: {\n          marginLeft: \"25%\"\n        },\n        color: \"primary\",\n        className: classes.button,\n        href: \"/promotions/create\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Th\\xEAm\"), React.createElement(Button, {\n        size: \"small\",\n        color: \"primary\",\n        onClick: this.delePromo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"X\\xF3a\")), React.createElement(TableCell, {\n        style: {\n          padding: \"0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"ID\"), React.createElement(TableCell, {\n        style: {\n          padding: \"0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Ti\\xEAu \\u0111\\u1EC1\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, data ? data.map(function (n) {\n        return React.createElement(TableRow, {\n          key: n.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(FormControlLabel, {\n          control: React.createElement(Checkbox, {\n            value: n.id,\n            onChange: function onChange(event) {\n              return _this3.setState({\n                promo: _objectSpread({}, n, {\n                  id: event.target.value\n                })\n              }, function () {\n                _this3.strrselect += n.id + ',';\n                console.log(_this3.strrselect);\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155\n            },\n            __self: this\n          }),\n          label: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }), React.createElement(Button, {\n          color: \"primary\",\n          size: \"small\",\n          variant: \"contained\",\n          href: \"/promotions/edit/\" + n.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \"S\\u1EEDa\")), React.createElement(TableCell, {\n          style: {\n            padding: \"0\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            width: \"50px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, n.id)), React.createElement(TableCell, {\n          style: {\n            padding: \"0\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            width: \"300px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          variant: \"body2\",\n          className: classes.bold,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, \"Ti\\u1EBFng Vi\\u1EC7t:\"), React.createElement(Typography, {\n          variant: \"body2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, n.titleVn), React.createElement(Typography, {\n          variant: \"body2\",\n          className: classes.bold,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, \"Ti\\u1EBFng Anh:\"), React.createElement(Typography, {\n          variant: \"body2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, n.titleEl), React.createElement(Typography, {\n          variant: \"body2\",\n          className: classes.bold,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, \"Ti\\u1EBFng H\\xE0n:\"), React.createElement(Typography, {\n          variant: \"body2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, n.titleKr))));\n      }) : null)));\n    }\n  }]);\n\n  return Promotions;\n}(React.Component);\n\nPromotions.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Promotions);","map":{"version":3,"sources":["/Users/admin/Downloads/omni-admin-master/src/Views/Promotions/List.js"],"names":["React","PropTypes","PromotionsService","FormControlLabel","Checkbox","Paper","Table","TableRow","TableCell","TableBody","Typography","Button","CardMedia","withStyles","styles","tableContainer","width","overflowX","boxShadow","table","minWidth","image","paddingRight","maxWidth","maxHeight","paddingTop","imageStyle","bold","fontWeight","Promotions","props","delePromo","event","arr","data","state","console","log","strrselect","i","length","indexOf","id","push","service","lstIdNoti","deletePromotion","then","resp","redirect","catch","error","msg","isError","getListPromotions","res","success","setState","response","errorCode","__html","classes","marginLeft","button","padding","map","n","promo","target","value","titleVn","titleEl","titleKr","Component","propTypes","object","isRequired"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SACIC,KADJ,EAEIC,KAFJ,EAGIC,QAHJ,EAIIC,SAJJ,EAKIC,SALJ,EAMIC,UANJ,EAOIC,MAPJ,EAQIC,SARJ,EASIC,UATJ,QAUO,mBAVP,C,CAWA;AACA;AACA;AACA;AACA;;AAGA,IAAMC,MAAM,GAAG,SAATA,MAAS;AAAA,SAAO;AAClBC,IAAAA,cAAc,EAAE;AACZC,MAAAA,KAAK,EAAE,QADK;AAEZC,MAAAA,SAAS,EAAE,MAFC;AAGZC,MAAAA,SAAS,EAAE;AAHC,KADE;AAMlBC,IAAAA,KAAK,EAAE;AACHC,MAAAA,QAAQ,EAAE;AADP,KANW;AASlBC,IAAAA,KAAK,EAAE;AACHC,MAAAA,YAAY,EAAE,CADX;AAEHC,MAAAA,QAAQ,EAAE,MAFP;AAGHC,MAAAA,SAAS,EAAE,MAHR;AAIHC,MAAAA,UAAU,EAAE;AAJT,KATW;AAelBC,IAAAA,UAAU,EAAE;AACRV,MAAAA,KAAK,EAAE,OADC;AAER,oBAAc;AAFN,KAfM;AAmBlBW,IAAAA,IAAI,EAAE;AACFC,MAAAA,UAAU,EAAE;AADV;AAnBY,GAAP;AAAA,CAAf;;IAwBMC,U;;;;;AAEF,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,oFAAMA,KAAN;;AADe,UAwCnBC,SAxCmB,GAwCP,UAAAC,KAAK,EAAI;AACjB,UAAIC,GAAG,GAAG,EAAV;AADiB,UAEXC,IAFW,GAEF,MAAKC,KAFH,CAEXD,IAFW;AAGjBE,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B,MAAKC,UAA/B;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,IAAI,CAACM,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAClC,YAAIL,IAAI,CAACK,CAAD,CAAJ,IAAW,MAAKD,UAAL,CAAgBG,OAAhB,CAAwBP,IAAI,CAACK,CAAD,CAAJ,CAAQG,EAAhC,KAAuC,CAAtD,EAAyD;AACrDT,UAAAA,GAAG,CAACU,IAAJ,CAAST,IAAI,CAACK,CAAD,CAAJ,CAAQG,EAAjB;AACH;AACJ;;AACDN,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BJ,GAA1B;AACA,UAAMW,OAAO,GAAG,IAAI1C,iBAAJ,EAAhB,CAViB,CAWjB;;AACAkC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKF,KAAjB;AACA,UAAIU,SAAS,GAAG;AACZA,QAAAA,SAAS,EAAEZ;AADC,OAAhB;AAGAW,MAAAA,OAAO,CAACE,eAAR,CAAwBD,SAAxB,EAAmCE,IAAnC,CAAwC,UAAAC,IAAI,EAAI;AAC5CZ,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBW,IAAvB;;AACA,cAAKC,QAAL,CAAc,aAAd;AACH,OAHD,EAGGC,KAHH,CAGS,UAAAC,KAAK,EAAI;AACdf,QAAAA,OAAO,CAACe,KAAR,CAAcA,KAAd;AACH,OALD,EAKGJ,IALH,CAKQ,YAAM,CAEb,CAPD;AAQH,KAhEkB;;AAEf,UAAKZ,KAAL,GAAa;AACTD,MAAAA,IAAI,EAAE,EADG;AAETkB,MAAAA,GAAG,EAAE,EAFI;AAGTC,MAAAA,OAAO,EAAE;AAHA,KAAb;AAKA,UAAKf,UAAL,GAAkB,EAAlB;AAPe;AAQlB;;;;wCAEmB;AAAA;;AAChB,UAAMM,OAAO,GAAG,IAAI1C,iBAAJ,EAAhB;AACA0C,MAAAA,OAAO,CACFU,iBADL,GAEKP,IAFL,CAEU,UAAAQ,GAAG,EAAI;AACT,YAAIA,GAAG,CAACrB,IAAJ,IAAYqB,GAAG,CAACC,OAAJ,KAAgB,IAA5B,IAAoCD,GAAG,CAACrB,IAA5C,EAAkD;AAC9C,UAAA,MAAI,CAACuB,QAAL,CAAc;AACVvB,YAAAA,IAAI,EAAEqB,GAAG,CAACrB,IADA;AAEVmB,YAAAA,OAAO,EAAE;AAFC,WAAd;AAIH,SALD,MAKO;AACH,UAAA,MAAI,CAACI,QAAL,CAAc;AACVL,YAAAA,GAAG,EAAE,gBADK;AAEVC,YAAAA,OAAO,EAAE;AAFC,WAAd;AAIH;AACJ,OAdL,EAeKH,KAfL,CAeW,UAAAC,KAAK,EAAI;AACZ,QAAA,MAAI,CAACM,QAAL,CAAc;AACVL,UAAAA,GAAG,EAAED,KAAK,CAACO,QAAN,CAAeC,SADV;AAEVN,UAAAA,OAAO,EAAE;AAFC,SAAd;AAIH,OApBL;AAqBH;;;iCAEYnB,I,EAAM;AACf,aAAO;AACH0B,QAAAA,MAAM,EAAE1B;AADL,OAAP;AAGH;;;6BA2BQ;AAAA;;AAAA,UACG2B,OADH,GACe,KAAK/B,KADpB,CACG+B,OADH;AAEL,UAAM3B,IAAI,GAAG,KAAKC,KAAL,CAAWD,IAAxB;;AACA,UAAI,KAAKC,KAAL,CAAWkB,OAAf,EAAwB;AACpB,eACI,oBAAC,UAAD;AAAY,UAAA,KAAK,EAAC,OAAlB;AAA0B,UAAA,OAAO,EAAC,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACK,KAAKlB,KAAL,CAAWiB,GADhB,CADJ;AAKH;;AACD,aACI,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAES,OAAO,CAAC9C,cAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAC,QAAb;AAAsB,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAA7B;AAAkD,QAAA,IAAI,EAAC,QAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AACI,QAAA,OAAO,EAAC,WADZ;AAEI,QAAA,KAAK,EAAE;AAAE8C,UAAAA,UAAU,EAAE;AAAd,SAFX;AAGI,QAAA,KAAK,EAAC,SAHV;AAII,QAAA,SAAS,EAAED,OAAO,CAACE,MAJvB;AAKI,QAAA,IAAI,EAAC,oBALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAUI,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,OAAb;AAAqB,QAAA,KAAK,EAAC,SAA3B;AAAqC,QAAA,OAAO,EAAE,KAAKhC,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVJ,CADJ,EAeI,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAE;AAAEiC,UAAAA,OAAO,EAAE;AAAX,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAfJ,EAgBI,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAE;AAAEA,UAAAA,OAAO,EAAE;AAAX,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAhBJ,CADJ,CADJ,EAqBI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK9B,IAAI,GACCA,IAAI,CAAC+B,GAAL,CAAS,UAAAC,CAAC;AAAA,eACR,oBAAC,QAAD;AAAU,UAAA,GAAG,EAAEA,CAAC,CAACxB,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,gBAAD;AACI,UAAA,OAAO,EAAE,oBAAC,QAAD;AACL,YAAA,KAAK,EAAEwB,CAAC,CAACxB,EADJ;AAEL,YAAA,QAAQ,EAAE,kBAAAV,KAAK;AAAA,qBACX,MAAI,CAACyB,QAAL,CAAc;AACVU,gBAAAA,KAAK,oBAAOD,CAAP;AAAUxB,kBAAAA,EAAE,EAAEV,KAAK,CAACoC,MAAN,CAAaC;AAA3B;AADK,eAAd,EAEG,YAAM;AACL,gBAAA,MAAI,CAAC/B,UAAL,IAAmB4B,CAAC,CAACxB,EAAF,GAAO,GAA1B;AACAN,gBAAAA,OAAO,CAACC,GAAR,CAAY,MAAI,CAACC,UAAjB;AACH,eALD,CADW;AAAA,aAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADb;AAYI,UAAA,KAAK,EAAC,EAZV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAeI,oBAAC,MAAD;AACI,UAAA,KAAK,EAAC,SADV;AAEI,UAAA,IAAI,EAAC,OAFT;AAGI,UAAA,OAAO,EAAC,WAHZ;AAII,UAAA,IAAI,EAAE,sBAAsB4B,CAAC,CAACxB,EAJlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAfJ,CADJ,EA0BI,oBAAC,SAAD;AAAW,UAAA,KAAK,EAAE;AAAEsB,YAAAA,OAAO,EAAE;AAAX,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,KAAK,EAAE;AAAEhD,YAAAA,KAAK,EAAE;AAAT,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgCkD,CAAC,CAACxB,EAAlC,CADJ,CA1BJ,EA6BI,oBAAC,SAAD;AAAW,UAAA,KAAK,EAAE;AAAEsB,YAAAA,OAAO,EAAE;AAAX,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,KAAK,EAAE;AAAEhD,YAAAA,KAAK,EAAE;AAAT,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,UAAD;AAAY,UAAA,OAAO,EAAC,OAApB;AAA4B,UAAA,SAAS,EAAE6C,OAAO,CAAClC,IAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADJ,EAII,oBAAC,UAAD;AAAY,UAAA,OAAO,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6BuC,CAAC,CAACI,OAA/B,CAJJ,EAKI,oBAAC,UAAD;AAAY,UAAA,OAAO,EAAC,OAApB;AAA4B,UAAA,SAAS,EAAET,OAAO,CAAClC,IAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BALJ,EAQI,oBAAC,UAAD;AAAY,UAAA,OAAO,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6BuC,CAAC,CAACK,OAA/B,CARJ,EASI,oBAAC,UAAD;AAAY,UAAA,OAAO,EAAC,OAApB;AAA4B,UAAA,SAAS,EAAEV,OAAO,CAAClC,IAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCATJ,EAYI,oBAAC,UAAD;AAAY,UAAA,OAAO,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6BuC,CAAC,CAACM,OAA/B,CAZJ,CADJ,CA7BJ,CADQ;AAAA,OAAV,CADD,GAiDC,IAlDV,CArBJ,CADJ,CADJ;AA8EH;;;;EA5JoBxE,KAAK,CAACyE,S;;AA+J/B5C,UAAU,CAAC6C,SAAX,GAAuB;AACnBb,EAAAA,OAAO,EAAE5D,SAAS,CAAC0E,MAAV,CAAiBC;AADP,CAAvB;AAIA,eAAe/D,UAAU,CAACC,MAAD,CAAV,CAAmBe,UAAnB,CAAf","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport PromotionsService from '../../Services/PromotionsService';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport {\n    Paper,\n    Table,\n    TableRow,\n    TableCell,\n    TableBody,\n    Typography,\n    Button,\n    CardMedia,\n    withStyles\n} from \"@material-ui/core\";\n// import AddIcon from '@material-ui/icons/Add';\n// import green from '@material-ui/core/colors/green';\n// import { Link, Redirect } from \"react-router-dom\";\n// import OcbLoading from \"../Core/OcbLoading\"\n// import OcbAlert from \"../Core/OcbAlert\";\n\n\nconst styles = () => ({\n    tableContainer: {\n        width: \"1000px\",\n        overflowX: \"none\",\n        boxShadow: \"none\"\n    },\n    table: {\n        minWidth: 700\n    },\n    image: {\n        paddingRight: 0,\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        paddingTop: \"100px\"\n    },\n    imageStyle: {\n        width: \"200px\",\n        \"overflow-x\": \"auto\"\n    },\n    bold: {\n        fontWeight: \"bold\"\n    }\n});\n\nclass Promotions extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n            msg: \"\",\n            isError: false\n        };\n        this.strrselect = []\n    }\n\n    componentDidMount() {\n        const service = new PromotionsService();\n        service\n            .getListPromotions()\n            .then(res => {\n                if (res.data && res.success === true && res.data) {\n                    this.setState({\n                        data: res.data,\n                        isError: false\n                    });\n                } else {\n                    this.setState({\n                        msg: \"Có lỗi xảy ra!\",\n                        isError: true\n                    });\n                }\n            })\n            .catch(error => {\n                this.setState({\n                    msg: error.response.errorCode,\n                    isError: true\n                });\n            });\n    }\n\n    createMarkup(data) {\n        return {\n            __html: data\n        };\n    }\n    delePromo = event => {\n        let arr = [];\n        let { data } = this.state;\n        console.log('>>> submit', this.strrselect);\n        for (let i = 0; i < data.length; i++) {\n            if (data[i] && this.strrselect.indexOf(data[i].id) >= 0) {\n                arr.push(data[i].id)\n            }\n        }\n        console.log('>>> submit', arr);\n        const service = new PromotionsService();\n        // console.log(this);\n        console.log(this.state);\n        let lstIdNoti = {\n            lstIdNoti: arr\n        }\n        service.deletePromotion(lstIdNoti).then(resp => {\n            console.log('SUCCESS', resp);\n            this.redirect('/promotions')\n        }).catch(error => {\n            console.error(error)\n        }).then(() => {\n\n        })\n    }\n\n    render() {\n        const { classes } = this.props;\n        const data = this.state.data;\n        if (this.state.isError) {\n            return (\n                <Typography color=\"error\" variant=\"caption\">\n                    {this.state.msg}\n                </Typography>\n            );\n        }\n        return (\n            <Paper className={classes.tableContainer}>\n                <Table width=\"2000px\" style={{ width: \"2000px\" }} size=\"medium\">\n                    <thead>\n                        <TableRow>\n                            <TableCell >\n                                <Button\n                                    variant=\"contained\"\n                                    style={{ marginLeft: \"25%\" }}\n                                    color=\"primary\"\n                                    className={classes.button}\n                                    href=\"/promotions/create\"\n                                >\n                                    Thêm\n                                </Button>\n                                <Button size=\"small\" color=\"primary\" onClick={this.delePromo}>\n                                    Xóa\n                        </Button>\n                            </TableCell>\n                            <TableCell style={{ padding: \"0\" }}>ID</TableCell>\n                            <TableCell style={{ padding: \"0\" }}>Tiêu đề</TableCell>\n                        </TableRow>\n                    </thead>\n                    <TableBody>\n                        {data\n                            ? data.map(n => (\n                                <TableRow key={n.id}>\n                                    <TableCell>\n                                        <FormControlLabel\n                                            control={<Checkbox\n                                                value={n.id}\n                                                onChange={event =>\n                                                    this.setState({\n                                                        promo: { ...n, id: event.target.value }\n                                                    }, () => {\n                                                        this.strrselect += n.id + ','\n                                                        console.log(this.strrselect)\n                                                    })\n                                                }\n                                            />}\n                                            label=\"\"\n                                        />\n                                        <Button\n                                            color=\"primary\"\n                                            size=\"small\"\n                                            variant=\"contained\"\n                                            href={\"/promotions/edit/\" + n.id}\n                                        >\n                                            Sửa\n                                    </Button>\n\n                                    </TableCell>\n                                    <TableCell style={{ padding: \"0\" }}>\n                                        <div style={{ width: \"50px\" }}>{n.id}</div>\n                                    </TableCell>\n                                    <TableCell style={{ padding: \"0\" }}>\n                                        <div style={{ width: \"300px\" }}>\n                                            <Typography variant=\"body2\" className={classes.bold}>\n                                                Tiếng Việt:\n                        </Typography>\n                                            <Typography variant=\"body2\">{n.titleVn}</Typography>\n                                            <Typography variant=\"body2\" className={classes.bold}>\n                                                Tiếng Anh:\n                        </Typography>\n                                            <Typography variant=\"body2\">{n.titleEl}</Typography>\n                                            <Typography variant=\"body2\" className={classes.bold}>\n                                                Tiếng Hàn:\n                        </Typography>\n                                            <Typography variant=\"body2\">{n.titleKr}</Typography>\n                                        </div>\n                                    </TableCell>\n                                </TableRow>\n                            ))\n                            : null}\n                    </TableBody>\n                </Table>\n            </Paper>\n        );\n    }\n}\n\nPromotions.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Promotions);"]},"metadata":{},"sourceType":"module"}